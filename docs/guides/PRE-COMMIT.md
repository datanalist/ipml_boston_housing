# üîí –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ Pre-commit Hooks

–≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –æ–ø–∏—Å—ã–≤–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫—É –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ pre-commit hooks –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–¥–∞ –∏ –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º.

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–ß—Ç–æ —Ç–∞–∫–æ–µ Pre-commit](#—á—Ç–æ-—Ç–∞–∫–æ–µ-pre-commit)
2. [–£—Å—Ç–∞–Ω–æ–≤–∫–∞](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞)
3. [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞](#–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è-–ø—Ä–æ–µ–∫—Ç–∞)
4. [–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ](#–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ)
5. [–û–ø–∏—Å–∞–Ω–∏–µ hooks](#–æ–ø–∏—Å–∞–Ω–∏–µ-hooks)
6. [–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫](#—É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ-–Ω–µ–ø–æ–ª–∞–¥–æ–∫)

---

## –ß—Ç–æ —Ç–∞–∫–æ–µ Pre-commit

**Pre-commit** ‚Äî —ç—Ç–æ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è git hooks, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –∫–æ–º–º–∏—Ç–æ–º.

### –ó–∞—á–µ–º –Ω—É–∂–µ–Ω Pre-commit?

- üîç **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞** ‚Äî –ª–∏–Ω—Ç–∏–Ω–≥ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- üìä **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö** ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ DVC —Ñ–∞–π–ª–æ–≤
- üö´ **–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –æ—à–∏–±–æ–∫** ‚Äî –Ω–µ –¥–∞—ë—Ç –∑–∞–∫–æ–º–º–∏—Ç–∏—Ç—å "–ø–ª–æ—Ö–æ–π" –∫–æ–¥
- üë• **–ï–¥–∏–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç** ‚Äî –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –≤—Å–µ–π –∫–æ–º–∞–Ω–¥—ã

### Hooks –≤ –ø—Ä–æ–µ–∫—Ç–µ

| Hook | –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------|------------|------------|
| `ruff-check` | Ruff | –õ–∏–Ω—Ç–∏–Ω–≥ Python –∫–æ–¥–∞ |
| `ruff-format` | Ruff | –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ |
| `dvc-pre-commit` | DVC | –ü—Ä–æ–≤–µ—Ä–∫–∞ .dvc —Ñ–∞–π–ª–æ–≤ |
| `dvc-pre-push` | DVC | –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ push |
| `dvc-post-checkout` | DVC | –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö |

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ pre-commit

Pre-commit —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞:

```bash
# –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
uv sync
```

–ò–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Ä—É—á–Ω—É—é:

```bash
uv add pre-commit
```

### –®–∞–≥ 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ hooks

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ hooks
uv run pre-commit install --hook-type pre-commit --hook-type pre-push --hook-type post-checkout
```

–ò–ª–∏ –ø–æ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏:

```bash
# –¢–æ–ª—å–∫–æ pre-commit (–ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º)
uv run pre-commit install

# Pre-push (–ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ push)
uv run pre-commit install --hook-type pre-push

# Post-checkout (–ø–æ—Å–ª–µ checkout)
uv run pre-commit install --hook-type post-checkout
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

```bash
# –î–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è —Ñ–∞–π–ª—ã –≤ .git/hooks/
ls .git/hooks/

# –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥:
# pre-commit
# pre-push
# post-checkout
```

---

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞

### –§–∞–π–ª `.pre-commit-config.yaml`

```yaml
repos:
# Ruff - –ª–∏–Ω—Ç–µ—Ä –∏ —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä Python
- repo: https://github.com/astral-sh/ruff-pre-commit
  rev: v0.14.6
  hooks:
    # –õ–∏–Ω—Ç–µ—Ä - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∏–ª—è –∏ –æ—à–∏–±–æ–∫
    - id: ruff-check
      types_or: [ python, pyi ]
      args: [ --fix ]  # –ê–≤—Ç–æ–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
    # –§–æ—Ä–º–∞—Ç—Ç–µ—Ä - –µ–¥–∏–Ω—ã–π —Å—Ç–∏–ª—å –∫–æ–¥–∞
    - id: ruff-format
      types_or: [ python, pyi ]

# DVC - –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- repo: https://github.com/iterative/dvc
  rev: 3.56.0
  hooks:
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ .dvc —Ñ–∞–π–ª–æ–≤
    - id: dvc-pre-commit
      stages: [pre-commit]
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –≤ remote
    - id: dvc-pre-push
      stages: [pre-push]
    # –ê–≤—Ç–æ–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ—Å–ª–µ checkout
    - id: dvc-post-checkout
      stages: [post-checkout]
      always_run: true
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–π hooks

```bash
# –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ hooks –¥–æ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –≤–µ—Ä—Å–∏–π
uv run pre-commit autoupdate

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
git diff .pre-commit-config.yaml
```

---

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ hooks –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

```bash
# –ü—Ä–∏ –∫–æ–º–º–∏—Ç–µ ‚Äî –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è ruff –∏ dvc-pre-commit
git add .
git commit -m "feat: –¥–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è"

# –ü—Ä–∏ push ‚Äî –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è dvc-pre-push
git push origin main

# –ü—Ä–∏ checkout ‚Äî –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è dvc-post-checkout
git checkout feature-branch
```

### –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ —Ñ–∞–π–ª—ã
uv run pre-commit run --all-files

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π hook
uv run pre-commit run ruff-check --all-files
uv run pre-commit run ruff-format --all-files
uv run pre-commit run dvc-pre-commit --all-files

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–æ–ª—å–∫–æ staged —Ñ–∞–π–ª—ã
uv run pre-commit run
```

### –ü—Ä–æ–ø—É—Å–∫ hooks (–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –ö–æ–º–º–∏—Ç –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–æ–∫ (–≤ —ç–∫—Å—Ç—Ä–µ–Ω–Ω—ã—Ö —Å–ª—É—á–∞—è—Ö)
git commit -m "hotfix" --no-verify

# Push –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–æ–∫
git push --no-verify
```

‚ö†Ô∏è **–í–Ω–∏–º–∞–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--no-verify` —Ç–æ–ª—å–∫–æ –≤ –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω—ã—Ö —Å–ª—É—á–∞—è—Ö!

---

## –û–ø–∏—Å–∞–Ω–∏–µ hooks

### Ruff Check

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:** –ü—Ä–æ–≤–µ—Ä—è–µ—Ç Python –∫–æ–¥ –Ω–∞ –æ—à–∏–±–∫–∏ –∏ —Å—Ç–∏–ª–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã.

**–ü—Ä–æ–≤–µ—Ä–∫–∏:**
- –ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∏–º–ø–æ—Ä—Ç—ã
- –ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
- –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏
- –ù–∞—Ä—É—à–µ–Ω–∏—è PEP 8
- –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –±–∞–≥–∏

**–ü—Ä–∏–º–µ—Ä –æ—à–∏–±–∫–∏:**
```
src/modeling/train.py:15:1: F401 `os` imported but unused
```

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å `--fix`
- –ò–ª–∏ –≤—Ä—É—á–Ω—É—é: —É–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∏–º–ø–æ—Ä—Ç

### Ruff Format

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –∫–æ–¥ –≤ –µ–¥–∏–Ω–æ–º —Å—Ç–∏–ª–µ.

**–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- –û—Ç—Å—Ç—É–ø—ã
- –ö–∞–≤—ã—á–∫–∏
- –ü–µ—Ä–µ–Ω–æ—Å—ã —Å—Ç—Ä–æ–∫
- –ü—Ä–æ–±–µ–ª—ã

**–ü—Ä–∏–º–µ—Ä:** –î–æ –∏ –ø–æ—Å–ª–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

```python
# –î–æ
def foo(x,y):return x+y

# –ü–æ—Å–ª–µ
def foo(x, y):
    return x + y
```

### DVC Pre-commit

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:** –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ `.dvc` —Ñ–∞–π–ª—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–º –¥–∞–Ω–Ω—ã–º.

**–ö–æ–≥–¥–∞ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç:**
- –ò–∑–º–µ–Ω–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ, –Ω–æ –Ω–µ –æ–±–Ω–æ–≤–ª—ë–Ω `.dvc` —Ñ–∞–π–ª
- `.dvc` —Ñ–∞–π–ª –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –¥–∞–Ω–Ω—ã–º

**–ü—Ä–∏–º–µ—Ä –æ—à–∏–±–∫–∏:**
```
ERROR: data/raw.dvc is not in sync with data/raw/
Run `dvc add data/raw` to update
```

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```bash
dvc add data/raw
git add data/raw.dvc
```

### DVC Pre-push

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:** –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã –≤ remote storage –ø–µ—Ä–µ–¥ push.

**–ö–æ–≥–¥–∞ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç:**
- –ï—Å—Ç—å –Ω–µ–∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ DVC cache
- Remote storage –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

**–ü—Ä–∏–º–µ—Ä –æ—à–∏–±–∫–∏:**
```
ERROR: Data not pushed to remote
Run `dvc push` before git push
```

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```bash
dvc push
git push
```

### DVC Post-checkout

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ—Å–ª–µ `git checkout`.

**–ö–æ–≥–¥–∞ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç:**
- –ü–æ—Å–ª–µ `git checkout <branch>`
- –ü–æ—Å–ª–µ `git pull`
- –ü–æ—Å–ª–µ `git merge`

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è:
dvc checkout
```

---

## –¢–∏–ø–∏—á–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –û–±—ã—á–Ω—ã–π —Ä–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å

```bash
# 1. –í–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥
vim src/modeling/train.py

# 2. –î–æ–±–∞–≤—å—Ç–µ —Ñ–∞–π–ª—ã
git add .

# 3. –ö–æ–º–º–∏—Ç (hooks –∑–∞–ø—É—Å—Ç—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
git commit -m "feat: —É–ª—É—á—à–µ–Ω–∞ –º–æ–¥–µ–ª—å"
# ‚úì ruff-check: Passed
# ‚úì ruff-format: Passed
# ‚úì dvc-pre-commit: Passed

# 4. Push (dvc-pre-push –ø—Ä–æ–≤–µ—Ä–∏—Ç –¥–∞–Ω–Ω—ã–µ)
git push
# ‚úì dvc-pre-push: Passed
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

```bash
# 1. –û–±–Ω–æ–≤–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ
cp new_data.csv data/raw/housing.csv

# 2. –û–±–Ω–æ–≤–∏—Ç–µ DVC
dvc add data/raw

# 3. –ö–æ–º–º–∏—Ç
git add data/raw.dvc
git commit -m "data: –æ–±–Ω–æ–≤–ª–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ"

# 4. Push –¥–∞–Ω–Ω—ã—Ö –∏ –∫–æ–¥–∞
dvc push
git push
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–µ—Ç–æ–∫

```bash
# –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –¥—Ä—É–≥—É—é –≤–µ—Ç–∫—É
git checkout feature-experiment
# ‚úì dvc-post-checkout: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–∏—Ç –¥–∞–Ω–Ω—ã–µ

# –î–∞–Ω–Ω—ã–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –≤–µ—Ä—Å–∏–∏ –≤ –≤–µ—Ç–∫–µ
ls data/raw/
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 4: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –ª–∏–Ω—Ç–µ—Ä–∞

```bash
# –ö–æ–º–º–∏—Ç –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç
git commit -m "feat: new feature"
# ‚úó ruff-check: Failed
# src/train.py:10: F401 unused import

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–≤—Ç–æ–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
uv run pre-commit run ruff-check --all-files

# –ò–ª–∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –≤—Ä—É—á–Ω—É—é –∏ –ø–æ–≤—Ç–æ—Ä–∏—Ç—å
git add .
git commit -m "feat: new feature"
```

---

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### Hook –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

**–ü—Ä–∏—á–∏–Ω–∞:** Hooks –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã

**–†–µ—à–µ–Ω–∏–µ:**
```bash
uv run pre-commit install --hook-type pre-commit --hook-type pre-push --hook-type post-checkout
```

### "No files to check"

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ—Ç staged Python —Ñ–∞–π–ª–æ–≤

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –î–æ–±–∞–≤—å—Ç–µ —Ñ–∞–π–ª—ã
git add src/

# –ò–ª–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Å–µ —Ñ–∞–π–ª—ã
uv run pre-commit run --all-files
```

### Ruff –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É–µ—Ç —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∫–æ–¥–æ–º

**–†–µ—à–µ–Ω–∏–µ:** –û—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–π—Ç–µ –≤–µ—Å—å –∫–æ–¥ –æ–¥–∏–Ω —Ä–∞–∑:
```bash
uv run ruff format .
uv run ruff check --fix .
git add .
git commit -m "style: —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞"
```

### DVC hook –ø–∞–¥–∞–µ—Ç –±–µ–∑ remote

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω DVC remote

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫—É remote
dvc remote list

# –ï—Å–ª–∏ –ø—É—Å—Ç–æ ‚Äî –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ MinIO
dvc remote add -d minio s3://boston-housing-data
dvc remote modify minio endpointurl http://localhost:9000
```

### –°–ª–∏—à–∫–æ–º –º–µ–¥–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏

**–†–µ—à–µ–Ω–∏–µ:** –ó–∞–ø—É—Å–∫–∞–π—Ç–µ —Ç–æ–ª—å–∫–æ –Ω–∞ –∏–∑–º–µ–Ω—ë–Ω–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö:
```bash
# –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ staged —Ñ–∞–π–ª—ã
git add src/modeling/train.py
uv run pre-commit run

# –í–º–µ—Å—Ç–æ
uv run pre-commit run --all-files
```

### –ù—É–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –æ–¥–∏–Ω —Ä–∞–∑

```bash
# –í —ç–∫—Å—Ç—Ä–µ–Ω–Ω–æ–º —Å–ª—É—á–∞–µ
git commit -m "hotfix: –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ" --no-verify

# –ü–æ—Ç–æ–º –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏—Å–ø—Ä–∞–≤—å—Ç–µ –∏ –∑–∞–∫–æ–º–º–∏—Ç—å—Ç–µ –Ω–æ—Ä–º–∞–ª—å–Ω–æ
uv run pre-commit run --all-files
git add .
git commit -m "fix: –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ hotfix"
```

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (TL;DR)

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ hooks
uv run pre-commit install --hook-type pre-commit --hook-type pre-push --hook-type post-checkout

# 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤
uv run pre-commit run --all-files

# 3. –¢–µ–ø–µ—Ä—å hooks —Ä–∞–±–æ—Ç–∞—é—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∫–æ–º–º–∏—Ç–∞—Ö

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ hooks
uv run pre-commit autoupdate
```

---

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Pre-commit Documentation](https://pre-commit.com/)
- [Ruff Documentation](https://docs.astral.sh/ruff/)
- [DVC Pre-commit Hooks](https://dvc.org/doc/command-reference/install#install-git-hooks)
- [Git Hooks](https://git-scm.com/book/en/v2/Customizing-Git-Git-Hooks)

